<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 700" width="1000" height="700">
  <style>
    .title { font-family: sans-serif; font-size: 18px; font-weight: bold; fill: #333; }
    .state { font-family: sans-serif; font-size: 14px; fill: #333; }
    .transition { font-family: sans-serif; font-size: 11px; fill: #555; }
    .note { font-family: sans-serif; font-size: 11px; fill: #555; font-style: italic; }
    .legend { font-family: sans-serif; font-size: 12px; fill: #666; }
  </style>
  
  <!-- Background -->
  <rect width="1000" height="700" fill="white"/>
  
  <!-- Title -->
  <text x="500" y="40" class="title" text-anchor="middle">SÆ¡ Ä‘á»“ Tráº¡ng ThÃ¡i HÃ³a ÄÆ¡n - Invoice State Machine</text>
  <text x="500" y="65" class="legend" text-anchor="middle">EInvoiceHub System</text>
  
  <!-- State: DRAFT -->
  <ellipse cx="150" cy="150" rx="80" ry="40" fill="#fff9c4" stroke="#f57f17" stroke-width="3"/>
  <text x="150" y="155" class="state" text-anchor="middle" font-weight="bold">DRAFT</text>
  <text x="150" y="185" class="legend" text-anchor="middle">NhÃ¡p</text>
  
  <!-- State: PENDING -->
  <ellipse cx="350" cy="150" rx="80" ry="40" fill="#bbdefb" stroke="#1565c0" stroke-width="3"/>
  <text x="350" y="155" class="state" text-anchor="middle" font-weight="bold">PENDING</text>
  <text x="350" y="185" class="legend" text-anchor="middle">Äang chá»</text>
  
  <!-- State: PROCESSING -->
  <ellipse cx="550" cy="150" rx="80" ry="40" fill="#fff3e0" stroke:#ef6c00" stroke-width="3"/>
  <text x="550" y="155" class="state" text-anchor="middle" font-weight="bold">PROCESSING</text>
  <text x="550" y="185" class="legend" text-anchor="middle">Äang xá»­ lÃ½</text>
  
  <!-- State: ISSUED -->
  <ellipse cx="550" cy="320" rx="80" ry="40" fill="#c8e6c9" stroke="#2e7d32" stroke-width="3"/>
  <text x="550" y="325" class="state" text-anchor="middle" font-weight="bold">ISSUED</text>
  <text x="550" y="355" class="legend" text-anchor="middle">ÄÃ£ phÃ¡t hÃ nh</text>
  
  <!-- State: FAILED -->
  <ellipse cx="350" cy="320" rx="80" ry="40" fill="#ffcdd2" stroke="#c62828" stroke-width="3"/>
  <text x="350" y="325" class="state" text-anchor="middle" font-weight="bold">FAILED</text>
  <text x="350" y="355" class="legend" text-anchor="middle">Tháº¥t báº¡i</text>
  
  <!-- State: CANCELLED -->
  <ellipse cx="550" cy="480" rx="80" ry="40" fill="#e0e0e0" stroke="#616161" stroke-width="3"/>
  <text x="550" y="485" class="state" text-anchor="middle" font-weight="bold">CANCELLED</text>
  <text x="550" y="515" class="legend" text-anchor="middle">ÄÃ£ há»§y</text>
  
  <!-- Start State -->
  <circle cx="150" cy="70" r="15" fill="#4caf50" stroke="#2e7d32" stroke-width="2"/>
  <text x="150" y="75" class="state" text-anchor="middle" fill="white" font-size="10">â–¶</text>
  
  <!-- Transitions -->
  <!-- Start to DRAFT -->
  <line x1="150" y1="85" x2="150" y2="110" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="180" y="100" class="transition">Táº¡o má»›i</text>
  
  <!-- DRAFT to PENDING -->
  <line x1="230" y1="150" x2="270" y2="150" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="250" y="140" class="transition">Gá»­i yÃªu cáº§u xuáº¥t hÃ³a Ä‘Æ¡n</text>
  
  <!-- PENDING to PROCESSING -->
  <line x1="430" y1="150" x2="470" y2="150" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="450" y="140" class="transition">Provider nháº­n yÃªu cáº§u</text>
  
  <!-- PROCESSING to ISSUED -->
  <line x1="550" y1="190" x2="550" y2="280" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="580" y="240" class="transition">Xuáº¥t hÃ³a Ä‘Æ¡n thÃ nh cÃ´ng</text>
  
  <!-- PROCESSING to FAILED -->
  <line x1="500" y1="180" x2="400" y2="220" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="430" y="210" class="transition" fill="#c62828">Lá»—i tá»« Provider</text>
  
  <!-- ISSUED to CANCELLED -->
  <line x1="630" y1="320" x2="680" y2="350" stroke="#333" stroke-width="2" stroke-dasharray="5,3"/>
  <line x1="680" y1="350" x2="630" y2="440" stroke="#333" stroke-width="2" stroke-dasharray="5,3"/>
  <line x1="630" y1="440" x2="550" y2="440" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="680" y="390" class="transition">YÃªu cáº§u há»§y (trong ngÃ y)</text>
  
  <!-- ISSUED to END -->
  <line x1="550" y1="360" x2="550" y2="530" stroke="#333" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="580" y="450" class="transition">HoÃ n thÃ nh</text>
  
  <!-- FAILED to DRAFT -->
  <line x1="300" y1="320" x2="200" y2="320" stroke="#333" stroke-width="2" stroke-dasharray="5,3"/>
  <line x1="200" y1="320" x2="200" y2="250" stroke="#333" stroke-width="2" stroke-dasharray="5,3"/>
  <line x1="200" y1="250" x2="200" y2="190" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="150" y="270" class="transition">Sá»­a lá»—i vÃ  gá»­i láº¡i</text>
  
  <!-- FAILED to CANCELLED -->
  <line x1="350" y1="360" x2="350" y2="440" stroke="#333" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="380" y="410" class="transition">Há»§y bá»</text>
  
  <!-- CANCELLED to END -->
  <line x1="550" y1="520" x2="550" y2="580" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="565" y="555" class="transition">Káº¿t thÃºc</text>
  
  <!-- Notes -->
  <rect x="50" y="560" width="400" height="100" rx="10" fill="#fff8e1" stroke="#ffc107" stroke-width="2"/>
  <text x="60" y="585" class="note" font-weight="bold">ğŸ“ Ghi chÃº:</text>
  <text x="70" y="605" class="note">â€¢ ISSUED: HÃ³a Ä‘Æ¡n Ä‘Ã£ Ä‘Æ°á»£c kÃ½ sá»‘ vÃ  gá»­i Ä‘áº¿n cÆ¡ quan thuáº¿</text>
  <text x="70" y="625" class="note">â€¢ PROCESSING: Äang chá» pháº£n há»“i tá»« nhÃ  cung cáº¥p</text>
  <text x="70" y="645" class="note">â€¢ FAILED: CÃ³ thá»ƒ sá»­a lá»—i vÃ  gá»­i láº¡i hoáº·c há»§y bá»</text>
  
  <!-- Legend Box -->
  <rect x="500" y="560" width="450" height="100" rx="10" fill="#f5f5f5" stroke="#9e9e9e" stroke-width="2"/>
  <text x="510" y="585" class="legend" font-weight="bold">ğŸ“Š Giáº£i thÃ­ch tráº¡ng thÃ¡i:</text>
  <circle cx="525" cy="605" r="8" fill="#c8e6c9" stroke="#2e7d32" stroke-width="1"/>
  <text x="540" y="610" class="legend">ThÃ nh cÃ´ng / Hoáº¡t Ä‘á»™ng</text>
  <circle cx="525" cy="630" r="8" fill="#ffcdd2" stroke="#c62828" stroke-width="1"/>
  <text x="540" y="635" class="legend">Lá»—i / Tháº¥t báº¡i</text>
  <circle cx="525" cy="655" r="8" fill="#e0e0e0" stroke="#616161" stroke-width="1"/>
  <text x="540" y="660" class="legend">Káº¿t thÃºc / KhÃ´ng hoáº¡t Ä‘á»™ng</text>
  <circle cx="725" cy="605" r="8" fill="#bbdefb" stroke="#1565c0" stroke-width="1"/>
  <text x="740" y="610" class="legend">Äang chá» xá»­ lÃ½</text>
  <circle cx="725" cy="630" r="8" fill="#fff3e0" stroke="#ef6c00" stroke-width="1"/>
  <text x="740" y="635" class="legend">Äang xá»­ lÃ½</text>
  
  <!-- Arrow marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
</svg>